1:"$Sreact.fragment"
2:I[24718,["/_next/static/chunks/7c92e96509cd355e.js","/_next/static/chunks/8789ffbb5ee5b366.js"],"CodeBlock"]
10:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/d2be314c3ece3fbe.js"],"OutletBoundary"]
11:"$Sreact.suspense"
0:{"buildId":"3QYkP21_7PLH4fI6iRI6E","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto px-4 py-12 max-w-4xl","children":[["$","h1",null,{"className":"text-4xl font-bold mb-6","children":"API Reference"}],["$","div",null,{"className":"prose prose-slate max-w-none","children":[["$","p",null,{"className":"lead text-xl text-muted-foreground mb-8","children":["The Ratelord daemon exposes a JSON-over-HTTP API. Clients must authenticate with an Identity Token for all requests. The API runs locally (default ",["$","code",null,{"children":"http://localhost:8090"}],") and is designed to fail safe: if you cannot reach the daemon, assume your intent will be denied."]}],["$","h2",null,{"className":"text-2xl font-bold mt-8 mb-4","children":"Base URL"}],["$","div",null,{"className":"bg-muted p-4 rounded-md my-4 font-mono text-sm px-4 py-2","children":["$","code",null,{"children":"http://localhost:8090/v1"}]}],["$","h2",null,{"className":"text-2xl font-bold mt-10 mb-4","children":"Core Concepts"}],["$","ul",null,{"className":"list-disc pl-5 space-y-2","children":[["$","li",null,{"children":[["$","strong",null,{"children":"Local-only:"}]," The API binds to the loopback interface by default for single-machine coordination."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Fail-safe:"}]," Clients should treat timeouts as a denial and back off safely."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Model:"}]," Intent negotiation is the central workflowâ€”agents request resources, and the daemon evaluates policies before granting them."]}]]}],["$","h2",null,{"className":"text-2xl font-bold mt-10 mb-4","children":"Endpoints"}],["$","div",null,{"className":"space-y-10","children":[["$","div",null,{"className":"border rounded-lg p-6","children":[["$","h3",null,{"className":"text-xl font-bold mb-2 flex items-center gap-2","children":[["$","span",null,{"className":"bg-green-100 text-green-800 text-xs px-2 py-1 rounded font-mono","children":"POST"}],"/v1/intent"]}],["$","p",null,{"className":"mb-4","children":"Submit an intent describing the resource you want to consume. The daemon replies with approval, denial, or a counter offer."}],["$","h4",null,{"className":"font-bold text-sm mb-2","children":"Request Body"}],["$","$L2",null,{"language":"json","code":"{\n  \"agent_id\": \"crawler-01\",\n  \"identity_id\": \"pat:user\",\n  \"workload_id\": \"repo_scan\",\n  \"scope_id\": \"repo:owner/project\",\n  \"urgency\": \"normal\"\n}"}],["$","h4",null,{"className":"font-bold text-sm mt-4 mb-1","children":"Sample Response"}],["$","$L2",null,{"language":"json","code":"{\n  \"decision\": \"approve\",\n  \"intent_id\": \"evt_12345\",\n  \"evaluation\": {\n    \"risk_summary\": \"Low risk (P99 TTE > 1h)\"\n  }\n}"}]]}],["$","div",null,{"className":"border rounded-lg p-6","children":[["$","h3",null,{"className":"text-xl font-bold mb-2 flex items-center gap-2","children":[["$","span",null,{"className":"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded font-mono","children":"GET"}],"/v1/health"]}],["$","p",null,{"className":"mb-3","children":"Check whether the daemon is ready, degraded, or still initializing."}],["$","$L2",null,{"language":"json","code":"{\n  \"status\": \"ok\",\n  \"version\": \"0.1.0\",\n  \"uptime_seconds\": 3600\n}"}]]}],["$","div",null,{"className":"border rounded-lg p-6","children":[["$","h3",null,{"className":"text-xl font-bold mb-2 flex items-center gap-2","children":[["$","span",null,{"className":"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded font-mono","children":"GET"}],"/v1/graph"]}],["$","p",null,{"className":"mb-3","children":"Returns the current constraint graph (pools, scopes, and identities plus their relationships)."}]]}],["$","div",null,{"className":"border rounded-lg p-6","children":[["$","h3",null,{"className":"text-xl font-bold mb-2","children":"Analytics & Reporting"}],["$","p",null,{"className":"mb-3","children":"Use the trends and reports endpoints for dashboards or auditors."}],["$","ul",null,{"className":"list-disc pl-5 space-y-2 text-sm","children":[["$","li",null,{"children":[["$","strong",null,{"children":"GET /v1/trends:"}]," Aggregated usage over a time window (from, to, bucket, provider_id)."]}],"$L3"]}]]}],"$L4","$L5","$L6","$L7","$L8","$L9","$La"]}],"$Lb","$Lc","$Ld"]}]]}],["$Le"],"$Lf"]}],"loading":null,"isPartial":false}
3:["$","li",null,{"children":[["$","strong",null,{"children":"GET /v1/reports:"}]," CSV exports for usage, access logs, or events (type, from, to)."]}]
4:["$","div",null,{"className":"border rounded-lg p-6","children":[["$","h3",null,{"className":"text-xl font-bold mb-2","children":"Federation & Clustering"}],["$","ul",null,{"className":"list-disc pl-5 space-y-2 text-sm","children":[["$","li",null,{"children":[["$","strong",null,{"children":"GET /v1/cluster/nodes:"}]," Returns topology of known leaders and followers."]}],["$","li",null,{"children":[["$","strong",null,{"children":"POST /v1/federation/grant:"}]," Followers request grants from the leader (body: node_id, resource, amount)."]}]]}]]}]
5:["$","div",null,{"className":"border rounded-lg p-6","children":[["$","h3",null,{"className":"text-xl font-bold mb-2","children":"Integrations"}],["$","p",null,{"className":"mb-3","children":"Register webhooks to receive streaming events."}],["$","$L2",null,{"language":"json","code":"{\n  \"url\": \"https://hooks.slack.com/...\",\n  \"events\": [\"intent.denied\", \"system.alert\"]\n}"}]]}]
6:["$","div",null,{"className":"border rounded-lg p-6","children":[["$","h3",null,{"className":"text-xl font-bold mb-2","children":"Administration"}],["$","p",null,{"className":"mb-3","children":"Prune old events and manage the event ledger."}],["$","$L2",null,{"language":"json","code":"{\n  \"before\": \"2023-01-01T00:00:00Z\"\n}"}]]}]
7:["$","div",null,{"className":"border rounded-lg p-6","children":[["$","h3",null,{"className":"text-xl font-bold mb-2","children":"Event Streaming"}],["$","p",null,{"className":"mb-3","children":"Stream recent events as SSE or poll the latest batch."}],["$","ul",null,{"className":"list-disc pl-5 space-y-1 text-sm","children":["$","li",null,{"children":[["$","strong",null,{"children":"GET /v1/events:"}]," Parameters: limit (default 50), stream=true for SSE."]}]}]]}]
8:["$","div",null,{"className":"border rounded-lg p-6","children":[["$","h3",null,{"className":"text-xl font-bold mb-2","children":"Identity Management"}],["$","p",null,{"className":"mb-3","children":"Register, inspect, and delete identities."}],["$","$L2",null,{"language":"json","code":"{\n  \"identity_id\": \"pat:github:rmax\",\n  \"kind\": \"user\",\n  \"metadata\": { \"name\": \"RMax\" }\n}"}],["$","p",null,{"className":"text-sm text-muted-foreground","children":["DELETE ",["$","code",null,{"children":"/v1/identities/<id>"}]," removes an identity and scrubs its history for compliance."]}]]}]
9:["$","div",null,{"className":"border rounded-lg p-6","children":[["$","h3",null,{"className":"text-xl font-bold mb-2","children":"Observability"}],["$","p",null,{"className":"mb-3","children":"Prometheus-style metrics expose pool usage and forecast data."}],["$","ul",null,{"className":"list-disc pl-5 space-y-1 text-sm","children":["$","li",null,{"children":[["$","strong",null,{"children":"GET /metrics:"}]," Returns metrics such as `ratelord_usage`, `ratelord_limit`, `ratelord_intent_total`, `ratelord_forecast_seconds`."]}]}]]}]
a:["$","div",null,{"className":"border rounded-lg p-6","children":[["$","h3",null,{"className":"text-xl font-bold mb-2","children":"Debugging"}],["$","p",null,{"className":"mb-3","children":"Inject synthetic provider data for testing flows."}],["$","$L2",null,{"language":"json","code":"{\n  \"provider_id\": \"github-mock\",\n  \"pool_id\": \"core\",\n  \"usage\": 4500,\n  \"limit\": 5000\n}"}]]}]
b:["$","h2",null,{"className":"text-2xl font-bold mt-12 mb-4","children":"Error Handling"}]
c:["$","p",null,{"className":"mb-3","children":"The API uses standard HTTP status codes. A denial from the policy engine still returns 200."}]
d:["$","ul",null,{"className":"list-disc pl-5 space-y-2 text-sm","children":[["$","li",null,{"children":[["$","strong",null,{"children":"200 OK:"}]," Request processed (including `deny_with_reason`)."]}],["$","li",null,{"children":[["$","strong",null,{"children":"400 Bad Request:"}]," Invalid payload or missing fields."]}],["$","li",null,{"children":[["$","strong",null,{"children":"503 Service Unavailable:"}]," Daemon starting, shutting down, or overloaded."]}]]}]
e:["$","script","script-0",{"src":"/_next/static/chunks/8789ffbb5ee5b366.js","async":true}]
f:["$","$L10",null,{"children":["$","$11",null,{"name":"Next.MetadataOutlet","children":"$@12"}]}]
12:null
