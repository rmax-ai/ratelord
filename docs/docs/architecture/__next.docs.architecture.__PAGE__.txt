1:"$Sreact.fragment"
9:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/d2be314c3ece3fbe.js"],"OutletBoundary"]
a:"$Sreact.suspense"
0:{"buildId":"KJFwAkHL1TcPcah5n7gu1","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto px-4 py-12 max-w-4xl","children":[["$","h1",null,{"className":"text-4xl font-bold mb-6","children":"Architecture: How Ratelord Works"}],["$","div",null,{"className":"prose prose-slate max-w-none","children":[["$","p",null,{"className":"lead text-xl text-muted-foreground mb-8","children":"Ratelord is a local-first, predictive control plane that sits between your agents and external APIs. The architecture is organized around a single authoritative daemon, immutable event sourcing, and a negotiation protocol that safely allocates resources."}],["$","h2",null,{"className":"text-2xl font-bold mt-8 mb-4","children":"Daemon Authority"}],["$","p",null,{"children":"The `ratelord-d` daemon is the only process capable of writing state or making decisions. All other clients are read-only observers."}],["$","ul",null,{"className":"list-disc pl-5 space-y-2","children":[["$","li",null,{"children":[["$","strong",null,{"children":"Single source of truth:"}]," Every policy evaluation, grant, and denial is authored by the daemon."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Read-only clients:"}]," CLI, TUI, Web UI, and SDKs only display what the daemon reports."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Intent-based:"}]," Agents describe the action they want to perform; the daemon evaluates risk before allowing it."]}]]}],["$","h2",null,{"className":"text-2xl font-bold mt-8 mb-4","children":"Event Sourcing & Replayability"}],["$","p",null,{"children":"The architecture is backed by an append-only event log. Every observation, decision, and policy change becomes an event, which can always be replayed to rebuild the system state."}],["$","ol",null,{"className":"list-decimal pl-5 space-y-2","children":[["$","li",null,{"children":[["$","strong",null,{"children":"Event log:"}]," Immutable history of every provider poll, intent negotiation, and policy evaluation."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Replay:"}]," Restarting the daemon replays the log to reconstruct the current constraint graph."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Projections:"}]," Materialized views derived from the log keep queries fast (e.g., current usage, pool health)."]}]]}],["$","h2",null,{"className":"text-2xl font-bold mt-8 mb-4","children":"Prediction & Risk Modeling"}],["$","p",null,{"children":"Ratelord thinks in time, not just counts. Forecasts and burn rates help agents avoid imminent exhaustion."}],["$","ul",null,{"className":"list-disc pl-5 space-y-2","children":[["$","li",null,{"children":[["$","strong",null,{"children":"Time-to-Exhaustion (TTE):"}]," Estimates how long before a pool hits zero at the current burn rate."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Probability scores:"}]," Tracks the risk of exceeding a limit before the next reset window."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Forecast-aware decisions:"}]," The daemon can counter, shape, or deny intents when the risk is too high."]}]]}],["$","h2",null,{"className":"text-2xl font-bold mt-8 mb-4","children":"Intent Negotiation Workflow"}],["$","p",null,{"children":"Agents never grab capacity; they negotiate it through a deterministic protocol."}],["$","ol",null,{"className":"list-decimal pl-5 space-y-2","children":[["$","li",null,{"children":[["$","strong",null,{"children":"Propose:"}]," Agent submits the desired action (`POST /v1/intent`)."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Evaluate:"}]," The daemon checks pools, forecasts, policies, and priorities."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Decide:"}]," Responds with `approve`, `deny_with_reason`, or `approve_with_modifications` (e.g., wait or throttle)."]}]]}],["$","h2",null,{"className":"text-2xl font-bold mt-8 mb-4","children":"Primary Components"}],"$L2","$L3","$L4","$L5","$L6","$L7"]}]]}],null,"$L8"]}],"loading":null,"isPartial":false}
2:["$","h3",null,{"className":"text-xl font-bold mt-6 mb-3","children":"Ratelord Daemon"}]
3:["$","ul",null,{"className":"list-disc pl-5 space-y-2","children":[["$","li",null,{"children":"Polls providers (GitHub, OpenAI, etc.) for limit data."}],["$","li",null,{"children":"Enforces policies and writes every event to the log."}],["$","li",null,{"children":"Serves the HTTP API that agents and clients call."}]]}]
4:["$","h3",null,{"className":"text-xl font-bold mt-6 mb-3","children":"Storage"}]
5:["$","p",null,{"children":"Local deployments default to SQLite (with WAL mode). For HA, Redis can back shared state across federated leaders and followers."}]
6:["$","h3",null,{"className":"text-xl font-bold mt-6 mb-3","children":"Clients & UIs"}]
7:["$","ul",null,{"className":"list-disc pl-5 space-y-2","children":[["$","li",null,{"children":[["$","strong",null,{"children":"HTTP API:"}]," Programmatic access via `/v1` endpoints."]}],["$","li",null,{"children":[["$","strong",null,{"children":"TUI:"}]," Terminal UI for operators to inspect intents and forecasts."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Web UI:"}]," Dashboards that render the constraint graph, timelines, and health metrics."]}]]}]
8:["$","$L9",null,{"children":["$","$a",null,{"name":"Next.MetadataOutlet","children":"$@b"}]}]
b:null
